(this.webpackJsonpsigame=this.webpackJsonpsigame||[]).push([[0],{16:function(e,t,n){},18:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n(1),s=n.n(r),c=n(9),o=n.n(c),i=(n(16),n(2)),u=n.n(i),l=n(4),d=n(3),p="https://rs-clone-thrvrce-demo.herokuapp.com/",b="".concat(p,"login/authorize"),j="".concat(p,"login/register"),m="".concat(p,"login/checkSession"),f="".concat(p,"login/logout"),h="".concat(p,"login/updateUser"),g="".concat(p,"topics/getalltopics"),x=("".concat(p,"topics/gettopicbyname"),"".concat(p,"topics/posttopics"),"".concat(p,"topics/deletetopicbyname"),"sessionToken"),v=s.a.createContext(),O="\u0417\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u0444\u043e\u0440\u043c\u0443";var y=function(e){var t=s.a.useState(!1),n=Object(d.a)(t,2),r=n[0],c=n[1],o=e.windowName,i=e.isRegisterWnindow,p=s.a.useState(O),m=Object(d.a)(p,2),f=m[0],h=m[1],g=s.a.useContext(v),y=g.setisUserLoged,w=(g.loggedUser,g.setloggedUser);function N(e){localStorage.getItem(x)&&localStorage.removeItem(x),localStorage.setItem(x,e)}s.a.useEffect((function(){h(O)}),[r]);var S=function(e){void 0===e?c(!1):(e.target===document.querySelector(".modal")&&c(!1),e.target===document.querySelector("#Close")&&c(!1))};function q(e){return k.apply(this,arguments)}function k(){return(k=Object(l.a)(u.a.mark((function e(t){var n,a,r,s,c,o,l,d,p;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),n=document.forms.RegAuthForm.elements.login.value,a=document.forms.RegAuthForm.elements.password.value,!i){e.next=15;break}return r=document.forms.RegAuthForm.elements.email.value,s={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({login:n,email:r,password:a})},e.next=8,fetch(j,s);case 8:return c=e.sent,e.next=11,c.json();case 11:(o=e.sent).status?(S(),N(o.token),w(o.user),y(!0)):h(o.message),e.next=23;break;case 15:return l={method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({login:n,password:a})},e.next=18,fetch(b,l);case 18:return d=e.sent,e.next=21,d.json();case 21:(p=e.sent).status?(S(),N(p.token),w(p.user),y(!0)):h(p.message);case 23:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(a.jsxs)(s.a.Fragment,{children:[Object(a.jsxs)("li",{onClick:function(){return c(!0)},children:[" ",o," "]}),r&&Object(a.jsx)("div",{className:"modal",onClick:function(e){return S(e)},children:Object(a.jsxs)("div",{className:"modal-body-auth",children:[Object(a.jsx)("h1",{children:o}),Object(a.jsx)("p",{children:f}),Object(a.jsxs)("form",{name:"RegAuthForm",action:"#",onSubmit:function(){var e=Object(l.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q(t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),className:"RegAuthForm",children:[Object(a.jsxs)("label",{children:["\u041b\u043e\u0433\u0438\u043d: ",Object(a.jsx)("br",{}),Object(a.jsx)("input",{name:"login",type:"text",placeholder:"\u041b\u043e\u0433\u0438\u043d",required:!0})]}),i&&Object(a.jsxs)("label",{children:[" Email: ",Object(a.jsx)("br",{}),Object(a.jsx)("input",{name:"email",type:"email",placeholder:"\u0415mail",required:!0})]}),Object(a.jsxs)("label",{children:["\u041f\u0430\u0440\u043e\u043b\u044c: ",Object(a.jsx)("br",{}),Object(a.jsx)("input",{name:"password",type:"text",placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c",required:!0})]}),Object(a.jsxs)("div",{className:"RegAuth-Controls",children:[Object(a.jsx)("button",{type:"submit",children:i?"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f":"\u0412\u0445\u043e\u0434"}),Object(a.jsx)("button",{id:"Close",onClick:function(e){return S(e)},children:"\u041e\u0442\u043c\u0435\u043d\u0430"})]})]})]})})]})};function w(e,t,n,a){return N.apply(this,arguments)}function N(){return(N=Object(l.a)(u.a.mark((function e(t,n,a,r){var s,c,o,i,l,d,p,b;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=localStorage.getItem(a),c=!1,o={},i=401,l="\u041e\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0443\u0435\u0442 \u0442\u043e\u043a\u0435\u043d \u0441\u0435\u0441\u0441\u0438\u0438",!s){e.next=17;break}return d={method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:s,field:t,updateValue:n})},e.next=9,fetch(r,d);case 9:return p=e.sent,e.next=12,p.json();case 12:b=e.sent,c=b.status,o=b.user,i=p.status,l=200===p.status?"":b.message;case 17:return e.abrupt("return",{statuts:c,user:o,statusCode:i,message:l});case 18:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function S(e,t,n,a,r){return q.apply(this,arguments)}function q(){return(q=Object(l.a)(u.a.mark((function e(t,n,a,r,s){var c,o;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return localStorage.removeItem(t),c={method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({login:n.login})},e.next=4,fetch(a,c);case 4:return o=e.sent,e.next=7,o.json();case 7:e.sent.status&&(r(!1),s({}));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var k=n.p+"static/media/default.avatar.d5c02d75.png";var C=function(){var e=s.a.useContext(v),t=e.loggedUser,n=e.setisUserLoged,r=e.setloggedUser,c=s.a.useState(t.avatar||k),o=Object(d.a)(c,2),i=o[0],p=o[1];function b(){return(b=Object(l.a)(u.a.mark((function e(a){var s,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=document.getElementById("setavatar").files[0],console.log(document.getElementById("setavatar").files),.04,!s){e.next=10;break}if(!(s.size/1024/1024>.04)){e.next=7;break}return alert("\u041e\u0431\u044a\u0435\u043c \u0444\u0430\u0439\u043b\u0430 \u043f\u0440\u0435\u0432\u044b\u0448\u0430\u0435\u0442 ".concat(.04," \u043c\u0431, \u0432\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u043f\u043e\u0434\u0445\u043e\u0434\u044f\u0449\u0438\u0439 \u0444\u0430\u0439\u043b")),e.abrupt("return");case 7:(c=new FileReader).onload=Object(l.a)(u.a.mark((function e(){var a,s,o,i;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w("avatar",c.result,x,h);case 2:a=e.sent,a.statuts,s=a.user,o=a.statusCode,i=a.message,200===o?(r(s),p(c.result)):500===o?alert(i):(alert("".concat(i," \u0411\u0443\u0434\u0435\u0442 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d \u0432\u044b\u0445\u043e\u0434 \u0438\u0437 \u043f\u0440\u043e\u0444\u0438\u043b\u044f")),S(x,t,f,n,r));case 8:case"end":return e.stop()}}),e)}))),c.readAsDataURL(s);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(a.jsx)(s.a.Fragment,{children:Object(a.jsxs)("div",{className:"user-info-avatar",children:[Object(a.jsx)("img",{src:i,alt:"NotLoaded",className:"avatarImg"}),Object(a.jsxs)("label",{children:["\u0412\u044b\u0431\u043e\u0440 \u0430\u0432\u0430\u0442\u0430\u0440\u0430:",Object(a.jsx)("input",{name:"avatarFile",id:"setavatar",type:"file",accept:"image/png",placeholder:"",title:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0443 .PNG \u0440\u0430\u0437\u043c\u0435\u0440\u043e\u043c \u0434\u043e 40\u043a\u0431 \u0432 \u043a\u0430\u0447\u0435\u0441\u0442\u0432\u0435 \u0430\u0432\u0430\u0442\u0430\u0440\u0430",onChange:function(e){return function(e){return b.apply(this,arguments)}(e)}})]})]})})};var I=function(e){var t=e.statName,n=e.statValue;return Object(a.jsx)(s.a.Fragment,{children:Object(a.jsx)("div",{children:Object(a.jsxs)("p",{children:[t,": ",n]})})})};var L=function(){var e=s.a.useState(!1),t=Object(d.a)(e,2),n=t[0],r=t[1],c=s.a.useContext(v),o=c.loggedUser,i=c.setisUserLoged,u=c.setloggedUser,l=s.a.useState([]),p=Object(d.a)(l,2),b=p[0],j=p[1];s.a.useEffect((function(){j(function(e){var t=e.rightAnswers+e.wrongAnswers;function n(e){return 0!==e&&0!==t?+(e/t*100).toFixed(2):0}return[{name:"\u0412\u0441\u0435\u0433\u043e \u043e\u0442\u0432\u0435\u0442\u043e\u0432",value:t},{name:"\u0412\u0435\u0440\u043d\u044b\u0445 \u043e\u0442\u0432\u0435\u0442\u043e\u0432, \u043a\u043e\u043b-\u0432\u043e",value:e.rightAnswers},{name:"\u041d\u0435\u0432\u0435\u0440\u043d\u044b\u0445 \u043e\u0442\u0432\u0435\u0442\u043e\u0432, \u043a\u043e\u043b-\u0432\u043e",value:e.wrongAnswers},{name:"\u0412\u0435\u0440\u043d\u044b\u0445 \u043e\u0442\u0432\u0435\u0442\u043e\u0432, %",value:n(e.rightAnswers)},{name:"\u041d\u0435\u0432\u0435\u0440\u043d\u044b\u0445 \u043e\u0442\u0432\u0435\u0442\u043e\u0432, %",value:n(e.wrongAnswers)}]}(o))}),[o]);var m=function(e){void 0===e?r(!1):(e.target===document.querySelector(".modal")&&r(!1),e.target===document.querySelector("#Close")&&r(!1))};return Object(a.jsxs)(s.a.Fragment,{children:[Object(a.jsxs)("li",{onClick:function(){return r(!0)},children:[" \u041b\u0438\u0447\u043d\u044b\u0439 \u043a\u0430\u0431\u0438\u043d\u0435\u0442: ",o.login," "]}),n&&Object(a.jsx)("div",{className:"modal",onClick:function(e){return m(e)},children:Object(a.jsxs)("div",{className:"modal-body-user",children:[Object(a.jsxs)("div",{className:"user-title",children:[Object(a.jsxs)("h2",{children:[" ","".concat("\u041b\u0438\u0447\u043d\u044b\u0439 \u043a\u0430\u0431\u0438\u043d\u0435\u0442",": ").concat(o.login)," "]}),Object(a.jsx)("button",{id:"Close",onClick:function(e){return m(e)},children:"\u0412\u0435\u0440\u043d\u0443\u0442\u044c\u0441\u044f \u043a \u0438\u0433\u0440\u0435 "})]}),Object(a.jsxs)("div",{className:"user-info",children:[Object(a.jsx)(C,{}),Object(a.jsx)("div",{className:"user-info-detail",children:b.map((function(e){return Object(a.jsx)(I,{statName:e.name,statValue:e.value},e.name)}))})]}),Object(a.jsx)("button",{id:"LogOut",onClick:function(e){return S(x,o,f,i,u)},children:"\u0412\u044b\u0439\u0442\u0438 \u0438\u0437 \u043f\u0440\u043e\u0444\u0438\u043b\u044f"})]})})]})};var A=function(){var e=s.a.useContext(v).isUserLoged;return Object(a.jsx)("nav",{children:Object(a.jsxs)("ul",{className:"NAVBAR",children:[!e&&Object(a.jsxs)(s.a.Fragment,{children:[Object(a.jsx)(y,{windowName:"\u0412\u0445\u043e\u0434",isRegisterWnindow:!1}),Object(a.jsx)(y,{windowName:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f",isRegisterWnindow:!0})]}),e&&Object(a.jsx)(s.a.Fragment,{children:Object(a.jsx)(L,{})})]})})};var R=function(e){var t=e.question,n=s.a.useContext(v).handler,r=t.price;return!0===t.played&&(r=""),Object(a.jsx)("div",{className:"question",onClick:function(){return n(t)},children:r})};var U=function(e){var t=e.topic;return Object(a.jsxs)("div",{className:"topic",children:[Object(a.jsx)("div",{className:"topic-name",children:t.topicName}),t.topicQuestions.map((function(e){return e.topicName=t.topicName,Object(a.jsx)(R,{question:e},"".concat(t.topicName).concat(e.price))}))]})};var B=function(){var e=s.a.useContext(v).topics,t=s.a.useContext(v).tour;return Object(a.jsxs)("div",{className:"questions-section",children:[Object(a.jsx)("div",{className:"round-number",children:"\u0420\u0430\u0443\u043d\u0434 ".concat(t)}),Object(a.jsx)("div",{className:"questions-table",children:e.map((function(e){return Object(a.jsx)(U,{topic:e},"".concat(e.topicName))}))}),Object(a.jsx)("div",{className:"question-text hidden"})]})};var T=function(){return Object(a.jsx)("div",{className:"game-section",children:Object(a.jsx)(B,{})})};var E=function(e){var t=e.avatarSrc;return Object(a.jsx)("div",{className:"avatar",children:Object(a.jsx)("img",{src:t,alt:"NotLoaded",className:"avatarImg"})})},F=n.p+"static/media/HostAvatar.8a8fb51e.jpg";var Q=function(){var e=s.a.useContext(v).btns;return Object(a.jsxs)("div",{className:"host-section",children:[Object(a.jsxs)("div",{className:"host-profile",children:[Object(a.jsx)("button",{className:"button button-read-question",disabled:e[2].isBlocked,onClick:function(){return function(){console.log("reading");var e=localStorage.getItem("currentQuestionText");speechSynthesis.speak(new SpeechSynthesisUtterance(e))}()},children:"\u041e\u0437\u0432\u0443\u0447\u0438\u0442\u044c \u0432\u043e\u043f\u0440\u043e\u0441"}),Object(a.jsx)(E,{avatarSrc:F})]}),Object(a.jsx)("div",{className:"info hidden",children:Object(a.jsx)("p",{className:"host-text"})})]})};var M=function(){var e=s.a.useContext(v),t=e.isUserLoged,n=e.loggedUser,r=s.a.useState(""),c=Object(d.a)(r,2),o=c[0],i=c[1],u=s.a.useState(),l=Object(d.a)(u,2),p=l[0],b=l[1];return s.a.useEffect((function(){i(t?n.login:"Anonymous"),b(t&&null!==n.avatar?n.avatar:k)}),[t,n]),s.a.useEffect((function(){}),[n,t]),Object(a.jsxs)("div",{className:"player-icon",children:[Object(a.jsx)("div",{className:"player-points",children:"\u041e\u0447\u043a\u0438: 0"}),Object(a.jsxs)("div",{children:["\u0418\u0433\u0440\u043e\u043a: ",o]}),Object(a.jsx)(E,{avatarSrc:p})]})},P=n(10);function J(){return H.apply(this,arguments)}function H(){return(H=Object(l.a)(u.a.mark((function e(){var t,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(g);case 3:if((t=e.sent).ok){e.next=6;break}throw new Error("\u0417\u0430\u043f\u0440\u043e\u0441 \u0432\u0441\u0435\u0445 \u0442\u0435\u043c \u0437\u0430\u0432\u0435\u0440\u0448\u0438\u043b\u0441\u044f \u0441 \u043a\u043e\u0434\u043e\u043c ".concat(t.status));case 6:return e.next=8,t.json();case 8:return n=e.sent,e.abrupt("return",n);case 12:e.prev=12,e.t0=e.catch(0),alert(e.t0.message);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})))).apply(this,arguments)}var D=[];function V(){return W.apply(this,arguments)}function W(){return(W=Object(l.a)(u.a.mark((function e(){var t,n,a,r,s,c,o;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=function(e){var c=e,o=r(c),i=t[o].topicName;return!D.find((function(e){return i===e}))||D.length+1>=n?(c.push(o),!(D.length+1)>=n&&D.push(i)):console.log("".concat(D.length," ").concat(!D.find((function(e){return i===e}))," ").concat(D.length+1>=n)),c.length<a?s(c):c},r=function(e){var t=Math.floor(Math.random()*Math.floor(n));return e.find((function(e){return e===t}))?r(e):t},e.next=4,J();case 4:return t=e.sent,n=t.length,a=6,c=s([]),o=c.map((function(e){var n=t[e];return{topicName:n.topicName,topicQuestions:Object(P.a)(n.topicQuestions)}})),e.abrupt("return",o);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var _=[{topicName:"topic 1",topicQuestions:[{price:100,question:"abc",answers:"cba",played:!1},{price:200,question:"abc",answers:"cba",played:!1},{price:300,question:"abc",answers:"cba",played:!1},{price:400,question:"abc",answers:"cba",played:!1},{price:500,question:"abc",answers:"cba",played:!1}]},{topicName:"topic 2",topicQuestions:[{price:100,question:"abc",answers:"cba",played:!1},{price:200,question:"abc",answers:"cba",played:!1},{price:300,question:"abc",answers:"cba",played:!1},{price:400,question:"abc",answers:"cba",played:!1},{price:500,question:"abc",answers:"cba",played:!1}]},{topicName:"topic 3",topicQuestions:[{price:100,question:"abc",answers:"cba",played:!1},{price:200,question:"abc",answers:"cba",played:!1},{price:300,question:"abc",answers:"cba",played:!1},{price:400,question:"abc",answers:"cba",played:!1},{price:500,question:"abc",answers:"cba",played:!1}]},{topicName:"topic 4",topicQuestions:[{price:100,question:"abc",answers:"cba",played:!1},{price:200,question:"abc",answers:"cba",played:!1},{price:300,question:"abc",answers:"cba",played:!1},{price:400,question:"abc",answers:"cba",played:!1},{price:500,question:"abc",answers:"cba",played:!1}]},{topicName:"topic 5",topicQuestions:[{price:100,question:"abc",answers:"cba",played:!1},{price:200,question:"abc",answers:"cba",played:!1},{price:300,question:"abc",answers:"cba",played:!1},{price:400,question:"abc",answers:"cba",played:!1},{price:500,question:"abc",answers:"cba",played:!1}]},{topicName:"topic 6",topicQuestions:[{price:100,question:"abc",answers:"cba",played:!1},{price:200,question:"abc",answers:"cba",played:!1},{price:300,question:"abc",answers:"cba",played:!1},{price:400,question:"abc",answers:"cba",played:!1},{price:500,question:"abc",answers:"cba",played:!1}]}];var G=function(e){e.classList.remove("hidden")};var z=function(e){document.querySelector(".host-text").innerHTML=e};var K=function(){var e=s.a.useContext(v).btns;return Object(a.jsx)("button",{className:"button answer-button",disabled:e[0].isBlocked,onClick:function(){return function(){var e=document.querySelector(".answer-text"),t=document.querySelector(".submit-button");G(e),G(t),z("\u0412\u0430\u0448 \u043e\u0442\u0432\u0435\u0442?")}()},children:"\u041e\u0442\u0432\u0435\u0442\u0438\u0442\u044c"})};var X=function(e){e.classList.add("hidden")};var Y=function(){var e=s.a.useContext(v),t=e.btns,n=e.setBtns;return Object(a.jsx)("button",{className:"button skip-button",disabled:t[0].isBlocked,onClick:function(){return function(){var e=document.querySelector(".questions-table"),a=document.querySelector(".question-text"),r=document.querySelector(".info"),s=document.querySelector(".answer-text"),c=document.querySelector(".submit-button");X(s),X(c),X(r),X(a),G(e),n(t.map((function(e){return e.isBlocked=!e.isBlocked,e})))}()},children:"\u041f\u0440\u043e\u043f\u0443\u0441\u0442\u0438\u0442\u044c \u0432\u043e\u043f\u0440\u043e\u0441"})};var Z=function(e,t,n,a){w(e?"rightAnswers":"wrongAnswers",(e?t.rightAnswers:t.wrongAnswers)+1,x,h).then((function(e){e.statuts;var r=e.user,s=e.statusCode,c=e.message;200===s?n(r):500===s?alert(c):(alert("".concat(c," \u0411\u0443\u0434\u0435\u0442 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d \u0432\u044b\u0445\u043e\u0434 \u0438\u0437 \u043f\u0440\u043e\u0444\u0438\u043b\u044f")),S(x,t,f,a,n))}))};var $=function(e,t){function n(e){return e.trim().toLowerCase().split(" ").join("")}var a=n(e),r=n(t);return a.includes(r)||r.includes(a)},ee=n(8),te=n.p+"static/media/100-k-1-wrong-answer.410bfa26.mp3",ne=n.p+"static/media/right-answer.33039f0d.mp3";var ae=function(e,t){return e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e))+e},re=["\u0410\u0431\u0441\u043e\u043b\u044e\u0442\u043d\u043e \u0432\u0435\u0440\u043d\u043e!","\u0422\u043e\u0447\u043d\u043e!","\u0412 \u0442\u043e\u0447\u043a\u0443!","\u0412\u044b \u043f\u0440\u0430\u0432\u044b!","\u0418 \u044d\u0442\u043e \u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u044b\u0439 \u043e\u0442\u0432\u0435\u0442!"],se=["\u041d\u0435\u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u043e!","\u0412\u044b \u043e\u0448\u0438\u0431\u043b\u0438\u0441\u044c!","\u041f\u0440\u043e\u043c\u0430\u0448\u043a\u0430!","\u042d\u0442\u043e \u043d\u0435 \u0442\u0430\u043a!"];var ce=function(){if(localStorage.getItem("completedRoundsCounter")){var e=parseInt(localStorage.getItem("completedRoundsCounter"));localStorage.setItem("completedRoundsCounter","".concat(e+1))}else localStorage.setItem("completedRoundsCounter","1")};var oe=function(){if(localStorage.getItem("skippedRoundsCounter")){var e=parseInt(localStorage.getItem("skippedRoundsCounter"));localStorage.setItem("skippedRoundsCounter","".concat(e+1))}else localStorage.setItem("skippedRoundsCounter","1")};var ie=function(){var e=s.a.useContext(v),t=e.topics,n=e.setTopics,r=s.a.useContext(v),c=r.btns,o=r.setBtns,i=s.a.useContext(v),u=i.loggedUser,l=i.setloggedUser,p=i.isUserLoged,b=i.setisUserLoged,j=s.a.useContext(v),m=(j.tour,j.setTour),f=Object(ee.a)(te),h=Object(d.a)(f,1)[0],g=Object(ee.a)(ne),x=Object(d.a)(g,1)[0],O=document.querySelector(".questions-table"),y=document.querySelector(".question-text"),w=document.querySelector(".info");return Object(a.jsxs)("div",{className:"buttons-section-left",children:[Object(a.jsx)(K,{}),Object(a.jsx)("textarea",{className:"answer-text hidden"}),Object(a.jsx)("button",{className:"button submit-button hidden",onClick:function(){return function(){var e=document.querySelector(".player-points"),t=parseInt(e.innerHTML);0!==t&&(t=parseInt(localStorage.getItem("currentPoints")));var n=document.querySelector(".answer-text").value.trim(),a=localStorage.getItem("currentQuestionRightAnswer"),r=parseInt(localStorage.getItem("currentQuestionPrice"),10),s=$(n,a),i=ae(0,re.length);!0===s&&""!==n?(z(re[i]),t+=r,p&&Z(!0,u,l,b),x()):(t-=r,z("".concat(se[i],"\n            \u041c\u0438\u043d\u0443\u0441 ").concat(r," \u0431\u0430\u043b\u043b\u043e\u0432!\n        \u041f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u044b\u0439 \u043e\u0442\u0432\u0435\u0442: ").concat(a)),p&&Z(!1,u,l,b),h()),G(O),y.innerHTML="",X(y);var d=document.querySelector(".answer-text"),j=document.querySelector(".submit-button");X(d),d.value="",X(j),localStorage.setItem("currentPoints",t.toString()),e.innerHTML="\u041e\u0447\u043a\u0438: ".concat(t),o(c.map((function(e){return e.isBlocked=!e.isBlocked,e})))}()},children:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u044c \u043e\u0442\u0432\u0435\u0442"}),Object(a.jsx)(Y,{}),Object(a.jsx)("button",{type:"button",className:"button next-round-button",onClick:function(){return!0===t.map((function(e){return e.topicQuestions.map((function(e){return e.played}))})).reduce((function(e,t){return e.concat(t)})).every((function(e){return!0===e}))?ce():oe(),V().then((function(e){return n(e)})),X(y),G(O),X(w),m((function(e){return e+1})),void o(c.map((function(e){return e.isBlocked=!0,e})))},children:" \u0421\u043c\u0435\u043d\u0438\u0442\u044c \u0442\u0443\u0440"})]})};var ue=function(){return Object(a.jsx)("div",{className:"buttons-section",children:Object(a.jsx)(ie,{})})};var le=function(e){var t=e.points;return Object(a.jsxs)("div",{className:"players-section",children:[Object(a.jsx)(M,{points:t}),Object(a.jsx)(ue,{})]})};var de=function(){return Object(a.jsxs)("div",{className:"bottom-section",children:[Object(a.jsx)(Q,{}),Object(a.jsx)(le,{})]})};function pe(){return Object(a.jsxs)("div",{className:"GAME_FIELD_WRAPPER",children:[Object(a.jsx)(T,{}),Object(a.jsx)(de,{})]})}var be=[{buttonName:"answerButton",isBlocked:!0},{buttonName:"skipButton",isBlocked:!0},{buttonName:"readButton",isBlocked:!0}],je=n.p+"static/media/github.8eebd666.png",me=n.p+"static/media/rs_school_js.ad178c0d.svg";var fe=function(){return Object(a.jsx)(s.a.Fragment,{children:Object(a.jsxs)("footer",{children:[Object(a.jsx)("a",{href:"https://github.com/g0rdeich",children:Object(a.jsxs)("div",{className:"footerElement",children:[" ",Object(a.jsx)("img",{className:"gitLogo",src:je,alt:"gitLogo"})," Alex Gordeev"]})}),Object(a.jsx)("a",{href:"https://github.com/thrvrce",children:Object(a.jsxs)("div",{className:"footerElement",children:[" ",Object(a.jsx)("img",{className:"gitLogo",src:je,alt:"gitLogo"})," Victor Avdeev"]})}),Object(a.jsx)("a",{href:"https://rs.school/js/",children:Object(a.jsxs)("div",{className:"footerElement",children:[" ",Object(a.jsx)("img",{className:"gitLogo",src:me,alt:"RSlogo"})," RS School"]})}),Object(a.jsx)("div",{className:"footerElement",children:" 2021 \u0433\u043e\u0434"})]})})};var he=function(){var e=s.a.useState(!1),t=Object(d.a)(e,2),n=t[0],r=t[1],c=s.a.useState(_),o=Object(d.a)(c,2),i=o[0],p=o[1],b=s.a.useState({}),j=Object(d.a)(b,2),f=j[0],h=j[1],g=s.a.useState(!1),O=Object(d.a)(g,2),y=(O[0],O[1],s.a.useState(1)),w=Object(d.a)(y,2),N=w[0],S=w[1],q=s.a.useState(be),k=Object(d.a)(q,2),C=k[0],I=k[1];function L(){return R.apply(this,arguments)}function R(){return(R=Object(l.a)(u.a.mark((function e(){var t,n,a,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=localStorage.getItem(x))){e.next=18;break}return n={method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:t})},e.next=5,fetch(m,n);case 5:return a=e.sent,e.next=8,a.json();case 8:if(!(r=e.sent).status){e.next=14;break}return h(r.user),e.abrupt("return",!0);case 14:return alert(r.message),localStorage.removeItem(x),h({}),e.abrupt("return",!1);case 18:return h({}),e.abrupt("return",!1);case 20:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return s.a.useEffect((function(){L().then((function(e){return r(e)})),V().then((function(e){return p(e)})),console.log("useeffect"),setInterval((function(){L().then((function(e){return r(e)}))}),18e4)}),[]),Object(a.jsx)(v.Provider,{value:{isUserLoged:n,loggedUser:f,setloggedUser:h,setisUserLoged:r,handler:function(e){if(!0!==e.played){var t="".concat(e.topicName," ").concat(e.price),n=document.querySelector(".info");G(n),z(t),p(i.map((function(t){return e.played=!0,t})));var a=document.querySelector(".questions-table"),r=document.querySelector(".question-text");X(a);var s=e.question;r.innerHTML=s,localStorage.setItem("currentQuestionText",s),G(r);var c=e.price;localStorage.setItem("currentQuestionPrice",c);var o=e.answers;localStorage.setItem("currentQuestionRightAnswer",o),I(C.map((function(e){return e.isBlocked=!e.isBlocked,e})))}},topics:i,setTopics:p,btns:C,setBtns:I,tour:N,setTour:S},children:Object(a.jsxs)("div",{className:"wrapper",children:[Object(a.jsx)(A,{}),Object(a.jsx)(pe,{}),Object(a.jsx)(fe,{})]})})},ge=function(e){e&&e instanceof Function&&n.e(4).then(n.bind(null,21)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,s=t.getLCP,c=t.getTTFB;n(e),a(e),r(e),s(e),c(e)}))};o.a.render(Object(a.jsx)(s.a.StrictMode,{children:Object(a.jsx)(he,{})}),document.getElementById("root")),ge()}},[[18,1,2]]]);
//# sourceMappingURL=main.08701cf8.chunk.js.map